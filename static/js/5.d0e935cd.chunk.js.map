{"version":3,"sources":["components/Layout/Order/Order.js","containers/Orders/Orders.js"],"names":["Order","props","ingredients","key","info","push","className","Number","price","toFixed","Orders","state","orders","loading","auth","onAuthStateChanged","user","db","collection","where","uid","orderBy","onSnapshot","res","docs","forEach","doc","data","id","setState","err","error","console","log","message","this","style","position","top","left","transform","Spinner","length","map","order","Component"],"mappings":"oLAyBeA,EAtBD,SAACC,GAEX,IAAMC,EAAc,GACpB,IAAK,IAAIC,KAAOF,EAAMG,KAAKF,YACvBA,EAAYG,KACR,uBAAMC,UAAU,0DAAhB,UACKH,EADL,IACWF,EAAMG,KAAKF,YAAYC,GADlC,MAA+EA,IAKvF,OACE,sBAAKG,UAAU,yCAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,sBAAMA,UAAU,sBAAhB,0BADF,IAC6DJ,KAE7D,sBAAKI,UAAU,YAAf,oBACS,0CAAaC,OAAON,EAAMG,KAAKI,MAAMC,QAAQ,c,gBCVxDC,E,4MAIFC,MAAQ,CACJC,OAAQ,GACRC,SAAS,G,kEAGS,IAAD,OAEjBC,IAAKC,oBAAmB,SAAAC,GACpB,IAAMJ,EAAS,GACfK,IAAGC,WAAW,UACXC,MAAM,MAAO,KAAMH,EAAKI,KACxBC,QAAQ,eACRC,YACC,SAACC,GACCA,EAAIC,KAAKC,SAAQ,SAACC,GAAD,OACfd,EAAOP,KAAK,CAAEsB,KAAMD,EAAIC,OAAQC,GAAIF,EAAIE,QAE1C,EAAKC,SAAS,CAAEjB,OAAQA,EAAQC,SAAS,OAE3C,SAACiB,GACC,EAAKD,SAAS,CAAEE,OAAO,EAAMlB,SAAS,IACtCmB,QAAQC,IAAIH,EAAII,eAGvB,SAAAJ,GACKE,QAAQC,IAAIH,GACZ,EAAKD,SAAS,CAACE,OAAO,EAAMlB,SAAS,S,+BAO7C,IAAMD,EAASuB,KAAKxB,MAAME,QACpB,qBAAKuB,MAAO,CAAEC,SAAU,QAASC,IAAK,MAAOC,KAAM,MAAOC,UAAW,yBAArE,SAAuG,cAACC,EAAA,EAAD,MAC1E,IAA7BN,KAAKxB,MAAMC,OAAO8B,OAClB,qBAAKpC,UAAU,yCAAf,2BACA6B,KAAKxB,MAAMC,OAAO+B,KAAI,SAAAC,GAAK,OAAI,cAAC,EAAD,CAAOxC,KAAMwC,EAAMjB,MAAWiB,EAAMhB,OAEzE,OACI,qBAAKtB,UAAU,SAAf,SACI,qBAAKA,UAAU,mDAAf,SACIM,U,GA9CCiC,aAsDNnC","file":"static/js/5.d0e935cd.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Order = (props) => {\r\n    \r\n    const ingredients = []; \r\n    for (let key in props.info.ingredients) {\r\n        ingredients.push(\r\n            <span className=\"p-1 bg-secondary  m-1 text-white rounded d-inline-block\" key={key}>\r\n                {key}({props.info.ingredients[key]})\r\n            </span>);\r\n    }\r\n\r\n    return (\r\n      <div className=\"card card-text p-3 px-2 shadow-lg mb-1\">\r\n        <div className=\"card-text py-2\">\r\n          <span className=\"d-inline-block mb-2\">Ingredients:</span> {ingredients}\r\n        </div>\r\n        <div className=\"card-text\">\r\n          Price: <strong>USD {Number(props.info.price.toFixed(2))}</strong>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Order;","import React, { Component } from 'react'\r\nimport Order from '../../components/Layout/Order/Order';\r\nimport { auth, db } from '../../components/Firebase/Firebase';\r\nimport Spinner from '../../components/Layout/UI/Spinner/Spinner1/Spinner';\r\n\r\n\r\n\r\n\r\n\r\nclass Orders extends Component {\r\n\r\n  \r\n\r\n    state = {\r\n        orders: [],\r\n        loading: true,\r\n    }\r\n    \r\n    componentDidMount () {\r\n        \r\n        auth.onAuthStateChanged(user => {\r\n            const orders = [];\r\n            db.collection(\"orders\")\r\n              .where(\"uid\", \"==\", user.uid)\r\n              .orderBy(\"orderedTime\")\r\n              .onSnapshot(\r\n                (res) => {\r\n                  res.docs.forEach((doc) =>\r\n                    orders.push({ data: doc.data(), id: doc.id })\r\n                  );\r\n                  this.setState({ orders: orders, loading: false });\r\n                },\r\n                (err) => {\r\n                  this.setState({ error: true, loading: false });\r\n                  console.log(err.message);\r\n                }\r\n              );    \r\n        }, err => {\r\n                console.log(err);\r\n                this.setState({error: true, loading: false})\r\n        })\r\n        \r\n       \r\n    }\r\n\r\n    render () {\r\n        const orders = this.state.loading\r\n            ? <div style={{ position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }}       ><Spinner /></div>\r\n            : this.state.orders.length === 0 \r\n            ? <div className=\"py-4 alert alert-secondary text-center\">No orders yet</div> \r\n            : this.state.orders.map(order => <Order info={order.data} key={order.id} />)\r\n\r\n        return (\r\n            <div className=\"orders\">\r\n                <div className=\"col-11 col-md-6 mx-auto text-center text-md-left\">\r\n                   {orders}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\n\r\nexport default Orders;"],"sourceRoot":""}