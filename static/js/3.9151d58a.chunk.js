(this["webpackJsonp4.burger-builder"]=this["webpackJsonp4.burger-builder"]||[]).push([[3],{78:function(e,t,a){},79:function(e,t,a){e.exports={Checkout:"Checkout_Checkout__1XxGx"}},80:function(e,t,a){e.exports={ContactData:"ContactData_ContactData__2rfCp",animate:"ContactData_animate__3Z2nr"}},84:function(e,t,a){"use strict";a.r(t);var s=a(8),r=a(13),n=a(14),c=a(16),i=a(15),o=a(1),l=a(2),d=a.n(l),u=a(78),p=a.n(u),h=a(44),j=a(37),m=function(e){return Object(o.jsx)("div",{className:p.a.CheckoutSummary,children:Object(o.jsxs)("div",{className:"p-4 text-center",children:[Object(o.jsx)("h1",{children:"We hope it tastes well!"}),Object(o.jsx)("div",{className:"mx-auto w-100",children:Object(o.jsx)(h.a,{ingredients:e.ingredients})}),Object(o.jsxs)("div",{className:"",children:[Object(o.jsx)(j.a,{btnType:"Danger",clicked:e.checkoutCancelled,children:"CANCEL"}),Object(o.jsx)(j.a,{btnType:"Success",clicked:e.checkoutContinued,children:"CONTINUE"})]})]})})},b=a(79),x=a.n(b),g=a(5),v=a(18),O=a(80),f=a.n(O),N=a(43),y=a(33),C=a(42),k=a(21),S=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={name:"",email:"",uid:null,address:{postcode:"",street:""},message:"",phone:"",deliveryMethod:"",loadng:!1,error:!1},e.formRef=d.a.createRef(),e.inputHandler=function(t){var a=t.target.getAttribute("name");if("name"===a&&e.setState({name:t.target.value}),"email"===a&&e.setState({email:t.target.value}),"delivery method"===a&&e.setState({deliveryMethod:t.target.value}),"street"===a&&e.setState((function(e){return{address:Object(s.a)(Object(s.a)({},e.address),{},{street:t.target.value})}})),"postal"===a&&e.setState((function(e){return{address:Object(s.a)(Object(s.a)({},e.address),{},{postcode:t.target.value})}})),"message"===a&&e.setState({message:t.target.value}),"phone"===a){var r=t.target.value;console.log(typeof vlaue),e.setState({phone:Number(r)})}},e.orderHandler=function(t){t.preventDefault(),e.setState({loading:!0});var a={uid:e.state.uid,ingredients:e.props.ingredients,price:e.props.totalPrice,customer:{name:e.state.name,address:{street:e.state.address.street,postcode:e.state.address.postcode},phone:Number(e.state.phone),email:e.state.email},deliveryMethod:e.state.deliveryMethod,message:e.state.message,orderedTime:new Date};y.b.collection("orders").doc().set(a).then((function(t){e.setState({loading:!1}),e.props.history.push("/")})).catch((function(t){console.log(t),e.setState({loading:!1,error:!0})}))},e}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(this.context,3)[0];this.formRef.current.scrollIntoView(),this.state.uid!==e.uid&&this.setState({uid:e.uid})}},{key:"render",value:function(){console.log(this.state.id);var e=Object(o.jsx)("div",{className:f.a.ContactData,ref:this.formRef,children:Object(o.jsxs)("form",{className:"col-11 col-md-6 mx-auto p-4 bg-dark shadow-lg rounded-lg mb-5",onSubmit:this.orderHandler,children:[Object(o.jsx)("p",{className:"text-light text-center h4 mb-3",children:"Enter your contact data"}),Object(o.jsxs)("div",{className:"form-row",children:[Object(o.jsx)("div",{className:"col-md-6 form-group",children:Object(o.jsx)("input",{type:"text",name:"name",className:"form-control",placeholder:"Your Name",onChange:this.inputHandler,required:!0,maxLength:Number(5)})}),Object(o.jsx)("div",{className:"col-md-6 form-group",children:Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("div",{className:"input-group-text",children:Object(o.jsx)(C.a,{})})}),Object(o.jsx)("input",{type:"email",name:"email",className:"form-control",placeholder:"Your Email",onChange:this.inputHandler,required:!0})]})})]}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("div",{className:"input-group-text",children:Object(o.jsx)(C.c,{})})}),Object(o.jsx)("input",{type:"number",name:"phone",className:"form-control",placeholder:"Phone Number",onChange:this.inputHandler,min:"0",required:!0})]})}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("div",{className:"input-group-text",children:Object(o.jsx)(C.d,{})})}),Object(o.jsxs)("select",{name:"delivery method",className:"form-control",onChange:this.inputHandler,value:this.state.deliveryMethod,required:!0,children:[Object(o.jsx)("option",{hidden:!0,value:"",children:"Delivery Method"}),Object(o.jsx)("option",{value:"Normal",children:"Normal"}),Object(o.jsx)("option",{value:"Fast",children:"Fast"}),Object(o.jsx)("option",{value:"Fastest",children:"Fastest"})]})]})}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("div",{className:"input-group-text",children:Object(o.jsx)(C.e,{})})}),Object(o.jsx)("input",{type:"text",name:"street",className:"form-control",placeholder:"Street Name",onChange:this.inputHandler,required:!0})]})}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("div",{className:"input-group-text",children:Object(o.jsx)(C.b,{})})}),Object(o.jsx)("input",{type:"number",name:"postal",className:"form-control",placeholder:"Postal Code",onChange:this.inputHandler,min:"0",required:!0})]})}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("textarea",{name:"message",rows:"3",placeholder:"Your message here...",className:"form-control",onChange:this.inputHandler,required:!0})}),Object(o.jsx)("input",{type:"submit",className:"btn btn-success",value:"Submit"})]})});return this.state.loading&&(e=Object(o.jsx)(N.a,{})),e}}]),a}(l.Component);S.contextType=k.a;var H=S,w=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={ingredients:{salad:0,meat:0,cheese:0,bacon:0},totalPrice:0},e.checkoutCancelledHandler=function(){return e.props.history.goBack()},e.checkoutContinuedHandler=function(){return e.props.history.replace("/checkout/contact-data")},e}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e={},t=0;new URLSearchParams(this.props.location.search).forEach((function(a,s){"price"===s?t=Number(a):e[s]=Number(a)})),this.setState({ingredients:e,totalPrice:t}),Object.values(e).every((function(e){return 0===e}))&&this.props.history.replace("/")}},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:x.a.Checkout,children:[Object(o.jsx)(m,{ingredients:this.state.ingredients,checkoutCancelled:this.checkoutCancelledHandler,checkoutContinued:this.checkoutContinuedHandler}),Object(o.jsx)(g.b,{path:"".concat(this.props.match.path,"/contact-data"),exact:!0,render:function(t){return Object(o.jsx)(H,Object(s.a)({ingredients:e.state.ingredients,totalPrice:e.state.totalPrice},t))}})]})}}]),a}(l.Component);w.contextType=k.a;t.default=w}}]);
//# sourceMappingURL=3.9151d58a.chunk.js.map