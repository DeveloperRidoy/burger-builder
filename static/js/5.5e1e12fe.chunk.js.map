{"version":3,"sources":["components/Layout/Order/Order.js","containers/Orders/Orders.js"],"names":["Order","props","ingredients","key","info","push","className","Number","price","toFixed","orderedAt","orderedTime","toDate","toString","split","orderedDate","slice","join","orderedHour","amOrPm","getOrderedTime","Orders","state","orders","loading","cancelOrder","uid","db","collection","where","auth","onAuthStateChanged","user","orderBy","onSnapshot","res","docs","forEach","doc","data","id","setState","err","error","console","log","message","this","style","position","top","left","transform","Spinner","length","map","order","clicked","Component"],"mappings":"oLA8CeA,EA3CD,SAACC,GAEX,IAAMC,EAAc,GACpB,IAAK,IAAIC,KAAOF,EAAMG,KAAKF,YACvBA,EAAYG,KACR,uBAAMC,UAAU,0DAAhB,UACKH,EADL,IACWF,EAAMG,KAAKF,YAAYC,GADlC,MAA+EA,IAwBzF,OACI,sBAAKG,UAAU,yCAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,sBAAMA,UAAU,sBAAhB,0BADF,IAC6DJ,KAE7D,sBAAKI,UAAU,YAAf,UACE,wCAAU,0CAAaC,OAAON,EAAMG,KAAKI,MAAMC,QAAQ,UACvD,4CAAc,sBAAMH,UAAU,kCAAhB,SA3BC,WACrB,IAAMI,EAAYT,EAAMG,KAAKO,YAC1BC,SACAC,WACAC,MAAM,KAEHC,EAAcL,EAAUM,MAAM,EAAG,GAAGC,KAAK,KACzCN,EAAcD,EAAUM,MAAM,EAAG,GAAGH,WAAWC,MAAM,KACvDI,EAAcX,OAAOI,EAAY,IACjCQ,EAAS,KAOb,OANID,EAAc,KAChBA,GAA4B,GAC5BC,EAAS,MAGiBJ,EAAc,IAAMG,EAAc,IADxCX,OAAOI,EAAY,IAC2C,IAAMQ,EAYnBC,e,gBC9BrEC,E,4MAIFC,MAAQ,CACJC,OAAQ,GACRC,SAAS,G,EA8BfC,YAAc,SAACC,GACbC,IAAGC,WAAW,UACXC,MAAM,MAAO,KAAMH,I,kEA7BA,IAAD,OAEjBI,IAAKC,oBAAmB,SAAAC,GACpB,IAAMT,EAAS,GACfI,IAAGC,WAAW,UACXC,MAAM,MAAO,KAAMG,EAAKN,KACxBO,QAAQ,eACRC,YACC,SAACC,GACCA,EAAIC,KAAKC,SAAQ,SAACC,GAAD,OACff,EAAOlB,KAAK,CAAEkC,KAAMD,EAAIC,OAAQC,GAAIF,EAAIE,QAE1C,EAAKC,SAAS,CAAElB,OAAQA,EAAQC,SAAS,OAE3C,SAACkB,GACC,EAAKD,SAAS,CAAEE,OAAO,EAAMnB,SAAS,IACtCoB,QAAQC,IAAIH,EAAII,eAGvB,SAAAJ,GACKE,QAAQC,IAAIH,GACZ,EAAKD,SAAS,CAACE,OAAO,EAAMnB,SAAS,S,+BAYtC,IAAD,OACAD,EAASwB,KAAKzB,MAAME,QACpB,qBAAKwB,MAAO,CAAEC,SAAU,QAASC,IAAK,MAAOC,KAAM,MAAOC,UAAW,yBAArE,SAAuG,cAACC,EAAA,EAAD,MAC1E,IAA7BN,KAAKzB,MAAMC,OAAO+B,OAClB,qBAAKhD,UAAU,yCAAf,2BACAyC,KAAKzB,MAAMC,OAAOgC,KAAI,SAAAC,GAAK,OAAI,cAAC,EAAD,CAAOpD,KAAMoD,EAAMjB,KAAqBkB,QAAS,kBAAM,EAAKhC,YAAY+B,EAAMjB,KAAKb,OAArD8B,EAAMhB,OAEzE,OACI,qBAAKlC,UAAU,SAAf,SACI,qBAAKA,UAAU,mDAAf,SACIiB,U,GApDCmC,aA4DNrC","file":"static/js/5.5e1e12fe.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Order = (props) => {\r\n    \r\n    const ingredients = []; \r\n    for (let key in props.info.ingredients) {\r\n        ingredients.push(\r\n            <span className=\"p-1 bg-secondary  m-1 text-white rounded d-inline-block\" key={key}>\r\n                {key}({props.info.ingredients[key]})\r\n            </span>);\r\n    }\r\n  const getOrderedTime = () => {\r\n    const orderedAt = props.info.orderedTime\r\n      .toDate()\r\n      .toString()\r\n      .split(\" \")\r\n    \r\n    const orderedDate = orderedAt.slice(0, 4).join(' ');\r\n    const orderedTime = orderedAt.slice(4, 5).toString().split(':')\r\n    let orderedHour = Number(orderedTime[0]);\r\n    let amOrPm = 'am'\r\n    if (orderedHour > 12) {\r\n      orderedHour = orderedHour - 12\r\n      amOrPm = 'pm'\r\n    }\r\n    const orderedMinute = Number(orderedTime[1])\r\n    const modifiedOrderedTime = orderedDate + ' ' + orderedHour + ':' + orderedMinute + ' ' + amOrPm\r\n    return modifiedOrderedTime;\r\n    \r\n    }\r\n \r\n  return (\r\n      <div className=\"card card-text p-3 px-2 shadow-lg mb-1\">\r\n        <div className=\"card-text py-2\">\r\n          <span className=\"d-inline-block mb-2\">Ingredients:</span> {ingredients}\r\n        </div>\r\n        <div className=\"card-text\"> \r\n          <p>Price: <strong>USD {Number(props.info.price.toFixed(2))}</strong></p>\r\n          <p>Ordered at <span className='text-uppercase font-weight-bold'>{getOrderedTime()}</span></p>\r\n          {/* <button className=\"btn btn-secondary\" onClick={props.clicked}>Cancel</button> */}\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Order;","import React, { Component } from 'react'\r\nimport Order from '../../components/Layout/Order/Order';\r\nimport { auth, db } from '../../components/Firebase/Firebase';\r\nimport Spinner from '../../components/Layout/UI/Spinner/Spinner1/Spinner';\r\n\r\n\r\n\r\n\r\n\r\nclass Orders extends Component {\r\n\r\n  \r\n\r\n    state = {\r\n        orders: [],\r\n        loading: true,\r\n    }\r\n    \r\n    componentDidMount () {\r\n        \r\n        auth.onAuthStateChanged(user => {\r\n            const orders = [];\r\n            db.collection(\"orders\")\r\n              .where(\"uid\", \"==\", user.uid)\r\n              .orderBy(\"orderedTime\")\r\n              .onSnapshot(\r\n                (res) => {\r\n                  res.docs.forEach((doc) =>\r\n                    orders.push({ data: doc.data(), id: doc.id })\r\n                  );\r\n                  this.setState({ orders: orders, loading: false });\r\n                },\r\n                (err) => {\r\n                  this.setState({ error: true, loading: false });\r\n                  console.log(err.message);\r\n                }\r\n              );    \r\n        }, err => {\r\n                console.log(err);\r\n                this.setState({error: true, loading: false})\r\n        })\r\n        \r\n       \r\n    }\r\n\r\n  cancelOrder = (uid) => {\r\n    db.collection('orders')\r\n      .where('uid', '==', uid)\r\n      \r\n    }\r\n  \r\n    render () {\r\n        const orders = this.state.loading\r\n            ? <div style={{ position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)' }}       ><Spinner /></div>\r\n            : this.state.orders.length === 0 \r\n            ? <div className=\"py-4 alert alert-secondary text-center\">No orders yet</div> \r\n            : this.state.orders.map(order => <Order info={order.data} key={order.id} clicked={() => this.cancelOrder(order.data.uid)}/>)\r\n\r\n        return (\r\n            <div className=\"orders\">\r\n                <div className=\"col-11 col-md-6 mx-auto text-center text-md-left\">\r\n                   {orders}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\n\r\nexport default Orders;"],"sourceRoot":""}