{"version":3,"sources":["containers/Auth/Auth.module.scss","containers/Auth/Auth.js"],"names":["module","exports","Auth","props","useContext","Context","state","setState","burgeringredients","inputChangeHandler","e","target","getAttribute","email","value","trim","password","loading","className","classes","fixedCenter","loggedIn","type","name","placeholder","onChange","required","minLength","onClick","preventDefault","auth","signOut","then","error","catch","err","console","log","errorMsg","message","createUserWithEmailAndPassword","signInWithEmailAndPassword","history","location","search","queryParams","i","push","encodeURIComponent","totalPrice","queryString","join","replace","pathname"],"mappings":"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","file":"static/js/4.6d055b67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"fixedCenter\":\"Auth_fixedCenter__238uZ\"};","import React, { useContext } from 'react'\r\nimport { FaEnvelopeOpenText, FaUnlock } from 'react-icons/fa'\r\nimport { auth } from '../../components/Firebase/Firebase';\r\nimport Spinner from '../../components/Layout/UI/Spinner/Spinner1/Spinner'\r\nimport classes from './Auth.module.scss'\r\nimport { Context } from '../../hoc/WithAuthentication/WithAuthentication';\r\n\r\n\r\nconst Auth = (props) => {\r\n    \r\n    const [state, setState,burgeringredients,] = useContext(Context);\r\n    \r\n    const inputChangeHandler = (e) => {\r\n        if (e.target.getAttribute('name') === 'email') {setState({...state,email: e.target.value.trim()})}\r\n        if (e.target.getAttribute('name') === 'password') {setState({...state,password: e.target.value.trim()})}\r\n    }\r\n\r\n    const signUp = (e) => {\r\n        e.preventDefault();\r\n        setState({...state,loading: true})\r\n        auth.createUserWithEmailAndPassword(state.email, state.password)\r\n            .then(() => {setState({...state, loading: false, error: false})})\r\n            .catch(err => { console.log(err); setState({...state,loading: false, error: true, errorMsg: err.message})})\r\n    } \r\n\r\n    const logIn = (e) => {\r\n        e.preventDefault()\r\n        setState({...state,loading: true})\r\n        auth.signInWithEmailAndPassword(state.email, state.password)\r\n            .then(() => {\r\n                setState({ ...state, loading: false, error: false })\r\n\r\n                switch (props.history.location.search) {\r\n                    case '?forpurchase':\r\n                        const queryParams = [];\r\n\r\n                        for (let i in burgeringredients) {\r\n                          queryParams.push(\r\n                            `${encodeURIComponent(i)}=${encodeURIComponent(\r\n                              burgeringredients[i]\r\n                            )}`\r\n                          );\r\n                        }\r\n                        queryParams.push(`price=${state.totalPrice}`);\r\n                        const queryString = queryParams.join(\"&\");\r\n\r\n                        props.history.replace({\r\n                          pathname: \"/checkout\",\r\n                          search: `?${queryString}`,\r\n                        });\r\n                        break\r\n                    case '':\r\n                        props.history.replace('/')\r\n                        break\r\n                    default :\r\n                }\r\n                \r\n             \r\n            })\r\n            .catch(err =>{ console.log(err); setState({...state,loading: false, error: true, errorMsg: err.message})})\r\n    }\r\n\r\n    const logOut = (e) => {\r\n        e.preventDefault()\r\n        setState({...state, loading: true})\r\n        auth.signOut()\r\n            .then(() => setState({ ...state, loading: false, error: false }))\r\n            .catch(err => { console.log(err); setState({...state,loading: false, error: true, errorMsg: err.message})})\r\n    }\r\n\r\n\r\n    \r\n        \r\n        return  state.loading ? <div className={classes.fixedCenter}><Spinner/></div> : (\r\n            <div className=\"Auth\">\r\n                <form className=\"col-11 col-md-6 mx-auto shadow-lg p-4 mt-5 rounded\">\r\n                    {state.loggedIn\r\n                        ? <div className=\"py-4 h4\">{state.email}</div>\r\n                        : <div>\r\n                            <div className=\"form-group input-group\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <div className=\"input-group-text\"><FaEnvelopeOpenText/></div>\r\n                        </div>\r\n                        <input type=\"text\" name=\"email\" className=\"form-control\" value={state.email} placeholder=\"Mail Address\" onChange={inputChangeHandler} required/>\r\n                    </div>\r\n                    <div className=\"form-group input-group\">\r\n                        <div className=\"input-group-prepend\">\r\n                            <div className=\"input-group-text\"><FaUnlock/></div>\r\n                        </div>\r\n                        <input type=\"password\" minLength=\"5\" name=\"password\" className=\"form-control\" value={state.password} placeholder=\"Password\" onChange={inputChangeHandler} required/>\r\n                    </div>\r\n                        </div>\r\n                    }\r\n                    <div className=\"form-group\">\r\n                        {state.loggedIn ? <button className=\"btn btn-danger\" onClick={logOut}>Log Out</button> : (\r\n                            <div>\r\n                                <button className=\"btn btn-success\" onClick={signUp}>Sign Up</button>\r\n                                <p className=\"px-4 d-inline-block\">OR</p>\r\n                                <button className=\"btn btn-secondary\" onClick={logIn}>Log In</button>\r\n                            </div>)}\r\n                        {state.error ? <div className=\"text-danger\">{state.errorMsg}</div> : null }\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    \r\n}\r\n\r\n\r\nexport default Auth;"],"sourceRoot":""}